# Инструкция по сборке APK для планшетов

## Требования
- Node.js 18+ установлен
- Android Studio установлен (для сборки APK)
- Java JDK 11+ установлен

## Шаг 1: Установка зависимостей

```bash
cd frontend
npm install
```

## Шаг 2: Сборка веб-приложения

```bash
npm run build
```

## Шаг 3: Инициализация Capacitor для Android

```bash
# Добавляем Android платформу
npx cap add android

# Синхронизируем файлы
npx cap sync
```

## Шаг 4: Открытие в Android Studio

```bash
npx cap open android
```

## Шаг 5: Сборка APK в Android Studio

1. В Android Studio дождитесь завершения синхронизации Gradle
2. Перейдите в меню **Build → Build Bundle(s) / APK(s) → Build APK(s)**
3. После сборки найдите APK файл по пути:
   `frontend/android/app/build/outputs/apk/debug/app-debug.apk`

## Альтернативный способ: Сборка через командную строку

```bash
cd android
./gradlew assembleDebug
```

APK файл будет создан в:
`android/app/build/outputs/apk/debug/app-debug.apk`

## Создание подписанного APK для публикации

1. В Android Studio: **Build → Generate Signed Bundle / APK**
2. Выберите **APK**
3. Создайте или используйте существующий keystore
4. Заполните информацию о ключе
5. Выберите **release** вариант сборки
6. APK будет создан в папке `android/app/release/`

## Важные настройки

### Ориентация экрана
Приложение настроено для работы в ландшафтном режиме (горизонтальная ориентация) для планшетов. Это можно изменить в файле `android-config.json`.

### Минимальные требования
- Android 5.0 (API 21) и выше
- Рекомендуется для планшетов с экраном 7" и больше

## Тестирование на планшете

1. Включите режим разработчика на планшете
2. Включите отладку по USB
3. Подключите планшет к компьютеру
4. Выполните команду:
```bash
npx cap run android
```

## Структура приложения

- **Начальный экран**: Выбор роли (Клиент/Администратор)
- **Клиентская часть**: Просмотр меню, категорий и блюд
- **Админ панель**: Управление меню (требуется логин/пароль)

## Обновление приложения

При внесении изменений в код:
1. Пересоберите веб-приложение: `npm run build`
2. Синхронизируйте с Capacitor: `npx cap sync`
3. Пересоберите APK

## Решение проблем

### Ошибка при сборке
- Убедитесь, что установлены все зависимости: `npm install`
- Очистите кэш: `npm run clean` затем `npm install`
- Пересинхронизируйте: `npx cap sync`

### Приложение не запускается
- Проверьте версию Android на устройстве (должна быть 5.0+)
- Проверьте логи: `adb logcat`

### Проблемы с API
- Убедитесь, что backend сервер запущен
- Проверьте настройки API_URL в файле `.env`

## Контакты для поддержки
При возникновении вопросов обращайтесь к разработчику.
